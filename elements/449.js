"use strict";(self.webpackChunkcomponents=self.webpackChunkcomponents||[]).push([[449],{4033:(v,g,c)=>{c.d(g,{c:()=>f});var S=c(9751),E=c(727),C=c(8343),r=c(5403),p=c(4482);class f extends S.y{constructor(s,_){super(),this.source=s,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,p.A)(s)&&(this.lift=s.lift)}_subscribe(s){return this.getSubject().subscribe(s)}getSubject(){const s=this._subject;return(!s||s.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:s}=this;this._subject=this._connection=null,null==s||s.unsubscribe()}connect(){let s=this._connection;if(!s){s=this._connection=new E.w0;const _=this.getSubject();s.add(this.source.subscribe(new r.Q(_,void 0,()=>{this._teardown(),_.complete()},w=>{this._teardown(),_.error(w)},()=>this._teardown()))),s.closed&&(this._connection=null,s=E.w0.EMPTY)}return s}refCount(){return(0,C.x)()(this)}}},8343:(v,g,c)=>{c.d(g,{x:()=>C});var S=c(4482),E=c(5403);function C(){return(0,S.e)((r,p)=>{let f=null;r._refCount++;const D=new E.Q(p,void 0,void 0,void 0,()=>{if(!r||r._refCount<=0||0<--r._refCount)return void(f=null);const s=r._connection,_=f;f=null,s&&(!_||s===_)&&s.unsubscribe(),p.unsubscribe()});r.subscribe(D),D.closed||(f=r.connect())})}},449:(v,g,c)=>{c.d(g,{Ov:()=>_,Z9:()=>p,eX:()=>s,k:()=>O,yy:()=>D});var S=c(4033),E=c(7579),C=c(5e3);function p(a){return a&&"function"==typeof a.connect&&!(a instanceof S.c)}class D{applyChanges(e,t,i,l,n){e.forEachOperation((h,m,d)=>{let o,u;if(null==h.previousIndex){const b=i(h,m,d);o=t.createEmbeddedView(b.templateRef,b.context,b.index),u=1}else null==d?(t.remove(m),u=3):(o=t.get(m),t.move(o,d),u=2);n&&n({context:null==o?void 0:o.context,operation:u,record:h})})}detach(){}}class s{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(e,t,i,l,n){e.forEachOperation((h,m,d)=>{let o,u;null==h.previousIndex?(o=this._insertView(()=>i(h,m,d),d,t,l(h)),u=o?1:0):null==d?(this._detachAndCacheView(m,t),u=3):(o=this._moveView(m,d,t,l(h)),u=2),n&&n({context:null==o?void 0:o.context,operation:u,record:h})})}detach(){for(const e of this._viewCache)e.destroy();this._viewCache=[]}_insertView(e,t,i,l){const n=this._insertViewFromCache(t,i);if(n)return void(n.context.$implicit=l);const h=e();return i.createEmbeddedView(h.templateRef,h.context,h.index)}_detachAndCacheView(e,t){const i=t.detach(e);this._maybeCacheView(i,t)}_moveView(e,t,i,l){const n=i.get(e);return i.move(n,t),n.context.$implicit=l,n}_maybeCacheView(e,t){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{const i=t.indexOf(e);-1===i?e.destroy():t.remove(i)}}_insertViewFromCache(e,t){const i=this._viewCache.pop();return i&&t.insert(i,e),i||null}}class _{constructor(e=!1,t,i=!0,l){this._multiple=e,this._emitChanges=i,this.compareWith=l,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new E.x,t&&t.length&&(e?t.forEach(n=>this._markSelected(n)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,i=new Set(e);e.forEach(n=>this._markSelected(n)),t.filter(n=>!i.has(n)).forEach(n=>this._unmarkSelected(n));const l=this._hasQueuedChanges();return this._emitChangeEvent(),l}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){if(this.compareWith){for(const t of this._selection)if(this.compareWith(t,e))return!0;return!1}return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}const O=new C.OlP("_ViewRepeater")}}]);